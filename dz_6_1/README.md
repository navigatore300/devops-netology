# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

---
_Ответ:_  
>- Электронные чеки в json виде  

Я думаю что в данном случае подойдет какая-либо NOSQL база данных. Так как JSON можно сохранить как объект.

>- Склады и автомобильные дороги для логистической компании

Тут надо посмотреть в сторону графовых NOSQL баз данных, так как логистические схемы в графе будут чувствовать себя хорошо.

>- Генеалогические деревья

Реляционная модель здесь проявит себя хорошо, так как древовидные связи это ее основа. 

>- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

Слышал что используют memcached. По задаче подходит.

>- Отношения клиент-покупка для интернет-магазина

Думаю реляционная, но и NOSQL тоже может подойти. Надо смотреть задачи которые она должна обеспечить.

---
## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
- Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

---
_Ответ:_  

| Вопрос                                                                     | CAP | PACELC |
|----------------------------------------------------------------------------|-----|--------|
| - Данные записываются на все узлы с задержкой до часа (асинхронная запись) | AP  | PC-EL |
| - При сетевых сбоях, система может разделиться на 2 раздельных кластера    | AP  | PA-EL  |
| - Система может не прислать корректный ответ или сбросить соединение| CP  | PA-EC  |

---

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

---
_Ответ:_  

Принцип BASE противопоставляет себя ACID и соответственно нельзя сочетать противоположное.

---

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

---
_Ответ:_  

В лекции БД с тамкими параметрами - это Redis
    Недостатками Redis можно считать:
- Требуются достаточные ресурсы RAM(оперативной памяти) + нужно следить за ее наличием  
- Отсутствие поддержки языка SQL, т.е. проблема оперативного поиска данных  
- При отказе сервера все данные с последней синхронизации с диском будут утеряны 

---
